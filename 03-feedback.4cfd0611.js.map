{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SACMC,EAAUC,SAASC,cAAc,gBACjCC,EAAaF,SAASC,cAAc,kBACpCE,EAASH,SAASC,cAAc,kBAEhCG,EAAuB,SAAAC,GAC3B,OAAOC,KAAKC,MAAMC,aAAaC,QAAQJ,G,EAOnCK,EAAoB,CACxBC,MAAO,GACPC,QAAS,IAGXT,EAAOU,iBACL,SACA,EAAAhB,EAAAiB,WAAS,WAXgB,IAACT,EAAKU,EAY7BL,EAAkBC,MAAQZ,EAAQgB,MAClCL,EAAkBE,QAAUV,EAAWa,MAbfV,EAcL,sBAdUU,EAcaL,EAb5CF,aAAaQ,QAAQX,EAAKC,KAAKW,UAAUF,G,GActC,MAGLZ,EAAOU,iBAAiB,UAAU,SAAAK,GAC5BnB,EAAQgB,QACVI,QAAQC,IAAIV,GACZF,aAAaa,QACbH,EAAGI,iBACHnB,EAAOoB,Q,IAKLnB,EAAqB,yBACvBL,EAAQgB,MAAQX,EAAqB,uBAAuBO,MAC5DT,EAAWa,MAAQX,EAAqB,uBAAuBQ,Q","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\nconst emailEl = document.querySelector('[name=email]');\nconst textareaEl = document.querySelector('[name=message]');\nconst formEl = document.querySelector('.feedback-form');\n\nconst loadFromLocalStorage = key => {\n  return JSON.parse(localStorage.getItem(key));\n};\n\nconst saveToLocalStorage = (key, value) => {\n  localStorage.setItem(key, JSON.stringify(value));\n};\n\nconst feedbackFormState = {\n  email: '',\n  message: '',\n};\n\nformEl.addEventListener(\n  'input',\n  throttle(() => {\n    feedbackFormState.email = emailEl.value;\n    feedbackFormState.message = textareaEl.value;\n    saveToLocalStorage('feedback-form-state', feedbackFormState);\n  }, 500)\n);\n\nformEl.addEventListener('submit', ev => {\n  if (emailEl.value) {\n    console.log(feedbackFormState);\n    localStorage.clear();\n    ev.preventDefault();\n    formEl.reset();\n  }\n});\n\nconst addInputData = () => {\n  if (loadFromLocalStorage('feedback-form-state')) {\n    emailEl.value = loadFromLocalStorage('feedback-form-state').email;\n    textareaEl.value = loadFromLocalStorage('feedback-form-state').message;\n  }\n};\naddInputData();\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$emailEl","document","querySelector","$b00c40859be242c5$var$textareaEl","$b00c40859be242c5$var$formEl","$b00c40859be242c5$var$loadFromLocalStorage","key","JSON","parse","localStorage","getItem","$b00c40859be242c5$var$feedbackFormState","email","message","addEventListener","throttle","value","setItem","stringify","ev","console","log","clear","preventDefault","reset"],"version":3,"file":"03-feedback.4cfd0611.js.map"}